<%- include('../include/head') %> 
    <title>Application</title>
    <style>
        @media print{
            @page {size: landscape}
        }
        @media print{
            #table{
                padding: 0px;
                margin: 0px;
                border: none;
                visibility: visible;
                font-size: 0.8rem;
            }
            #table tr{
                text-align: center;
            }#table td{
                font-size: 0.6rem;
            }
        }
    </style>
</head>
<body>
    <main class="main">
        <%- include('../include/nav_link') %> 
        <div class="main-content">
            <div class="content-table">
                <nav class="navbar bg-body-tertiary p-0">
                    <div class="container-fluid row flex-md-row form-control-lg pe-0" style="width: 100%;">
                        <div class="col-md-6 d-flex justify-content-between">
                            <a href="/a/records/aics-list" class="btn btn-outline-success">List</a>
                        </div>
                        <div class="col-md-6 d-flex justify-content-end">
                            <!-- <button class="btn btn-outline-success" onclick="printDiv('printDiv')">generate</button> -->
                            
                            <span>Current Records: <%- counter %></span>
                        </div>
                    </div>
                </nav>
                <div class="table-div">
                    <div class="table-responsive" id="printDiv">
                        <table class="table table-responsive table-hover col-lg-12" style="text-align: center;" id="table">
                            <thead style="background-color: #EEF1F6;">
                                <tr class="table-responsive align-middle">
                                    <th>#</th>
                                    <th>Social Service</th>
                                    <th>Client Name</th>
                                    <th>Beneficiary</th>
                                    <th>Sex</th>
                                    <th>Address</th>
                                    <th>Reference</th>
                                    <th>Contact Number</th>
                                    <th>Email</th>
                                </tr>
                            </thead>
                            <tbody style="background-color: #FAFBFC;">
                                <% let count = 1 %>
                                <% render.forEach(info => { %>
                                    <tr>
                                        <th><%- count++ %></th>
                                        <td><%- info.service %></td>
                                        <td><%- info.firstname %> <%- info.middlename %> <%- info.lastname %></td>
                                        <td><%- info.bene_firstname %> <%- info.bene_middlename %> <%- info.bene_lastname %></td>
                                        <td><%- info.bene_sex %></td>
                                        <td><%- info.bene_street %> <%- info.bene_brgy %> <%- info.bene_municipal %> <%- info.bene_province %></td>
                                        <td><%- info.reference %></td>
                                        <td>+63<%- info.contact_number %></td>
                                        <td><%- info.email %></td>
                                    </tr>
                                <% }) %>
                            </tbody>
                        </table>
                        <% if(render == false) { %>
                            <p class="text-center">No Record</p>
                        <% } %> 
                    </div>
                </div>
            </div>
            <!-- footer -->
        </div>
    </main>
</body>

<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.0.0-alpha.1/jspdf.plugin.autotable.js"></script> -->

<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script> -->
<!-- <script>
    function generateTable() {
        var doc = new jsPDF()
        doc.autoTable({html: '#table'})
        doc.autoTable({
            theme: 'plain',
            head: [['Name', 'Email', 'Country']],
            body: [
                ['David', 'dav@email.com', 'PH'],
                ['David', 'dav@email.com', 'PH'],
                ['David', 'dav@email.com', 'PH'],
            ],
        })
        doc.save('table.pdf')
    }
</script> -->
<script>
    function printDiv(divTable) {
        var printContents = document.getElementById(divTable).innerHTML;
        var originalContents = document.body.outerHTML;
        document.body.innerHTML = printContents;
        window.print();
        document.body.innerHTML = originalContents;
    }
</script>
</html>